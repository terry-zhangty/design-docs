<mxGraphModel>
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>

    <!-- Phase 1 Title -->
    <mxCell id="p1t" value="&lt;b style=&quot;font-size:16px&quot;&gt;Phase 1: One-Shot CLI&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontColor=#38bdf8;" vertex="1" parent="1">
      <mxGeometry x="40" y="10" width="340" height="35" as="geometry"/>
    </mxCell>

    <!-- mock_ctl binary -->
    <mxCell id="p1c" value="&lt;b style=&quot;font-size:14px&quot;&gt;mock_ctl&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:12px;color:#94a3b8&quot;&gt;CLI flags: --action, --mode&lt;br&gt;--throttle, --brake, --steer&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#38bdf8;strokeWidth=2;fontColor=#e2e8f0;arcSize=10;" vertex="1" parent="1">
      <mxGeometry x="60" y="60" width="280" height="80" as="geometry"/>
    </mxCell>

    <!-- Arrow: calls -->
    <mxCell id="e1a" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#64748b;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1c" target="p1s">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e1a_l" value="&lt;span style=&quot;font-size:12px;color:#94a3b8;background:#0f172a;padding:2px 6px&quot;&gt;calls&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="e1a">
      <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry>
    </mxCell>

    <!-- Shared Core -->
    <mxCell id="p1s" value="&lt;b style=&quot;font-size:13px&quot;&gt;MockControlSender&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:11px;color:#94a3b8&quot;&gt;Shared core library&lt;br&gt;AOS node + DDS publisher&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#4ade80;strokeWidth=2;fontColor=#e2e8f0;arcSize=10;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
      <mxGeometry x="60" y="190" width="280" height="70" as="geometry"/>
    </mxCell>

    <!-- Arrow: publish -->
    <mxCell id="e1b" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#4ade80;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1s" target="p1tp">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e1b_l" value="&lt;span style=&quot;font-size:12px;color:#4ade80;background:#0f172a;padding:2px 6px&quot;&gt;publish&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="e1b">
      <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry>
    </mxCell>

    <!-- Topic: mock_control_trigger -->
    <mxCell id="p1tp" value="&lt;b style=&quot;font-size:13px&quot;&gt;mock_control_trigger&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:11px;color:#94a3b8&quot;&gt;AOS / DDS Topic&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#162032;strokeColor=#475569;strokeWidth=1;fontColor=#e2e8f0;arcSize=8;" vertex="1" parent="1">
      <mxGeometry x="75" y="310" width="250" height="60" as="geometry"/>
    </mxCell>

    <!-- Arrow: subscribe -->
    <mxCell id="e1c" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#fbbf24;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1tp" target="p1mc">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e1c_l" value="&lt;span style=&quot;font-size:12px;color:#fbbf24;background:#0f172a;padding:2px 6px&quot;&gt;subscribe&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="e1c">
      <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry>
    </mxCell>

    <!-- MockControl Component -->
    <mxCell id="p1mc" value="&lt;b style=&quot;font-size:13px&quot;&gt;MockControl Component&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:11px;color:#94a3b8&quot;&gt;Running in onboard_main&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#fbbf24;strokeWidth=2;fontColor=#e2e8f0;arcSize=10;" vertex="1" parent="1">
      <mxGeometry x="65" y="420" width="270" height="60" as="geometry"/>
    </mxCell>

    <!-- ========== Separator ========== -->
    <mxCell id="sep" value="" style="line;strokeColor=#334155;strokeWidth=1;fillColor=none;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
      <mxGeometry x="420" y="20" width="1" height="480" as="geometry"/>
    </mxCell>

    <!-- ========== Phase 2 ========== -->
    <mxCell id="p2t" value="&lt;b style=&quot;font-size:16px&quot;&gt;Phase 2: Interactive REPL&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontColor=#a78bfa;" vertex="1" parent="1">
      <mxGeometry x="460" y="10" width="380" height="35" as="geometry"/>
    </mxCell>

    <!-- interactive_mock_ctl -->
    <mxCell id="p2c" value="&lt;b style=&quot;font-size:14px&quot;&gt;interactive_mock_ctl&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:12px;color:#94a3b8&quot;&gt;REPL: mode, start, stop, status&lt;br&gt;Live status display&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#a78bfa;strokeWidth=2;fontColor=#e2e8f0;arcSize=10;" vertex="1" parent="1">
      <mxGeometry x="480" y="60" width="300" height="80" as="geometry"/>
    </mxCell>

    <!-- Arrow: calls -->
    <mxCell id="e2a" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#64748b;strokeWidth=2;exitX=0.35;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2c" target="p2s">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e2a_l" value="&lt;span style=&quot;font-size:12px;color:#94a3b8;background:#0f172a;padding:2px 6px&quot;&gt;calls&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="e2a">
      <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry>
    </mxCell>

    <!-- Shared Core (reused) -->
    <mxCell id="p2s" value="&lt;b style=&quot;font-size:13px&quot;&gt;MockControlSender&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:11px;color:#94a3b8&quot;&gt;Same shared core&lt;br&gt;(reused from Phase 1)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#4ade80;strokeWidth=2;fontColor=#e2e8f0;arcSize=10;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
      <mxGeometry x="480" y="190" width="300" height="70" as="geometry"/>
    </mxCell>

    <!-- Arrow: publish -->
    <mxCell id="e2b" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#4ade80;strokeWidth=2;exitX=0.3;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2s" target="p2tr">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e2b_l" value="&lt;span style=&quot;font-size:12px;color:#4ade80;background:#0f172a;padding:2px 6px&quot;&gt;publish&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="e2b">
      <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry>
    </mxCell>

    <!-- Topic: trigger -->
    <mxCell id="p2tr" value="&lt;b style=&quot;font-size:12px&quot;&gt;mock_control_trigger&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Topic (publish)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#162032;strokeColor=#475569;strokeWidth=1;fontColor=#e2e8f0;arcSize=8;" vertex="1" parent="1">
      <mxGeometry x="460" y="315" width="190" height="50" as="geometry"/>
    </mxCell>

    <!-- Topic: status -->
    <mxCell id="p2st" value="&lt;b style=&quot;font-size:12px&quot;&gt;mock_control_status&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Topic (subscribe)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#162032;strokeColor=#a78bfa;strokeWidth=1;fontColor=#e2e8f0;arcSize=8;" vertex="1" parent="1">
      <mxGeometry x="680" y="315" width="190" height="50" as="geometry"/>
    </mxCell>

    <!-- Arrow: subscribe to trigger -->
    <mxCell id="e2c" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#fbbf24;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.35;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2tr" target="p2mc">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e2c_l" value="&lt;span style=&quot;font-size:12px;color:#fbbf24;background:#0f172a;padding:2px 6px&quot;&gt;subscribe&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="e2c">
      <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry>
    </mxCell>

    <!-- MockControl Component (Phase 2) -->
    <mxCell id="p2mc" value="&lt;b style=&quot;font-size:13px&quot;&gt;MockControl Component&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size:11px;color:#94a3b8&quot;&gt;Running in onboard_main&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#fbbf24;strokeWidth=2;fontColor=#e2e8f0;arcSize=10;" vertex="1" parent="1">
      <mxGeometry x="510" y="420" width="270" height="60" as="geometry"/>
    </mxCell>

    <!-- Arrow: publishes status -->
    <mxCell id="e2d" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#fbbf24;strokeWidth=2;exitX=0.8;exitY=0;entryX=0.5;entryY=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2mc" target="p2st">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e2d_l" value="&lt;span style=&quot;font-size:11px;color:#fbbf24;background:#0f172a;padding:2px 4px&quot;&gt;publishes&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="e2d">
      <mxGeometry x="0.2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry>
    </mxCell>

    <!-- Arrow: display (status -> CLI) -->
    <mxCell id="e2e" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#a78bfa;strokeWidth=2;exitX=0.5;exitY=0;entryX=1;entryY=0.6;endArrow=classic;endFill=1;dashed=1;dashPattern=8 4;" edge="1" parent="1" source="p2st" target="p2c">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="775" y="290"/>
          <mxPoint x="860" y="290"/>
          <mxPoint x="860" y="108"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="e2e_l" value="&lt;span style=&quot;font-size:12px;color:#a78bfa;background:#0f172a;padding:2px 6px&quot;&gt;display&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="e2e">
      <mxGeometry x="-0.3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry>
    </mxCell>

    <!-- ========== Legend ========== -->
    <mxCell id="lg" value="&lt;span style=&quot;font-size:12px;color:#94a3b8&quot;&gt;&lt;b&gt;Legend:&lt;/b&gt;  &lt;span style=&quot;color:#38bdf8&quot;&gt;Blue&lt;/span&gt; = Phase 1  |  &lt;span style=&quot;color:#a78bfa&quot;&gt;Purple&lt;/span&gt; = Phase 2  |  &lt;span style=&quot;color:#4ade80&quot;&gt;Green dashed&lt;/span&gt; = Shared core  |  &lt;span style=&quot;color:#fbbf24&quot;&gt;Yellow&lt;/span&gt; = onboard_main&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;" vertex="1" parent="1">
      <mxGeometry x="140" y="510" width="620" height="25" as="geometry"/>
    </mxCell>
  </root>
</mxGraphModel>
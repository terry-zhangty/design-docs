<mxGraphModel>
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>

    <!-- Phase 1 Title -->
    <mxCell id="p1_title" value="&lt;b&gt;Phase 1: One-Shot CLI&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontColor=#38bdf8;" vertex="1" parent="1">
      <mxGeometry x="40" y="20" width="300" height="30" as="geometry"/>
    </mxCell>

    <!-- mock_ctl binary -->
    <mxCell id="p1_cli" value="&lt;b&gt;mock_ctl&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;CLI flags: --action, --mode&lt;br&gt;--throttle, --brake, --steer&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#38bdf8;strokeWidth=2;fontColor=#e2e8f0;arcSize=12;" vertex="1" parent="1">
      <mxGeometry x="80" y="70" width="220" height="70" as="geometry"/>
    </mxCell>

    <!-- Shared Core -->
    <mxCell id="p1_core" value="&lt;b&gt;MockControlSender&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Shared core library&lt;br&gt;(AOS node + DDS publisher)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#4ade80;strokeWidth=2;fontColor=#e2e8f0;arcSize=12;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
      <mxGeometry x="80" y="175" width="220" height="60" as="geometry"/>
    </mxCell>

    <!-- AOS/DDS Topic -->
    <mxCell id="p1_topic" value="&lt;b&gt;mock_control_trigger&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;AOS/DDS Topic&lt;/font&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fillColor=#162032;strokeColor=#334155;strokeWidth=1;fontColor=#e2e8f0;size=15;" vertex="1" parent="1">
      <mxGeometry x="80" y="275" width="220" height="55" as="geometry"/>
    </mxCell>

    <!-- MockControl Component -->
    <mxCell id="p1_comp" value="&lt;b&gt;MockControl Component&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Running in onboard_main&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#fbbf24;strokeWidth=2;fontColor=#e2e8f0;arcSize=12;" vertex="1" parent="1">
      <mxGeometry x="80" y="370" width="220" height="55" as="geometry"/>
    </mxCell>

    <!-- Phase 1 Edges -->
    <mxCell id="e_p1_1" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;calls&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#38bdf8;strokeWidth=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1_cli" target="p1_core">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e_p1_2" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;publish&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#4ade80;strokeWidth=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1_core" target="p1_topic">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e_p1_3" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;subscribe&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#fbbf24;strokeWidth=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p1_topic" target="p1_comp">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>

    <!-- Separator -->
    <mxCell id="sep" value="" style="line;strokeColor=#334155;strokeWidth=1;fillColor=none;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
      <mxGeometry x="380" y="30" width="1" height="410" as="geometry"/>
    </mxCell>

    <!-- Phase 2 Title -->
    <mxCell id="p2_title" value="&lt;b&gt;Phase 2: Interactive REPL&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontColor=#a78bfa;" vertex="1" parent="1">
      <mxGeometry x="420" y="20" width="330" height="30" as="geometry"/>
    </mxCell>

    <!-- interactive_mock_ctl binary -->
    <mxCell id="p2_cli" value="&lt;b&gt;interactive_mock_ctl&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;REPL: mode, start, stop, status&lt;br&gt;Live status display&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#a78bfa;strokeWidth=2;fontColor=#e2e8f0;arcSize=12;" vertex="1" parent="1">
      <mxGeometry x="450" y="70" width="250" height="70" as="geometry"/>
    </mxCell>

    <!-- Shared Core (Phase 2) -->
    <mxCell id="p2_core" value="&lt;b&gt;MockControlSender&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Same shared core library&lt;br&gt;(reused from Phase 1)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#4ade80;strokeWidth=2;fontColor=#e2e8f0;arcSize=12;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
      <mxGeometry x="450" y="175" width="250" height="60" as="geometry"/>
    </mxCell>

    <!-- DDS Topics (Phase 2) -->
    <mxCell id="p2_trigger" value="&lt;b&gt;mock_control_trigger&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;AOS/DDS Topic (publish)&lt;/font&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fillColor=#162032;strokeColor=#334155;strokeWidth=1;fontColor=#e2e8f0;size=15;" vertex="1" parent="1">
      <mxGeometry x="420" y="275" width="180" height="55" as="geometry"/>
    </mxCell>
    <mxCell id="p2_status" value="&lt;b&gt;mock_control_status&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;AOS/DDS Topic (subscribe)&lt;/font&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fillColor=#162032;strokeColor=#a78bfa;strokeWidth=1;fontColor=#e2e8f0;size=15;" vertex="1" parent="1">
      <mxGeometry x="620" y="275" width="180" height="55" as="geometry"/>
    </mxCell>

    <!-- MockControl Component (Phase 2) -->
    <mxCell id="p2_comp" value="&lt;b&gt;MockControl Component&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Running in onboard_main&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=#fbbf24;strokeWidth=2;fontColor=#e2e8f0;arcSize=12;" vertex="1" parent="1">
      <mxGeometry x="480" y="370" width="220" height="55" as="geometry"/>
    </mxCell>

    <!-- Phase 2 Edges -->
    <mxCell id="e_p2_1" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;calls&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#a78bfa;strokeWidth=1;exitX=0.35;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2_cli" target="p2_core">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e_p2_2" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;publish&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#4ade80;strokeWidth=1;exitX=0.35;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2_core" target="p2_trigger">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e_p2_3" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;subscribe&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#fbbf24;strokeWidth=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2_trigger" target="p2_comp">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e_p2_4" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;publishes status&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#fbbf24;strokeWidth=1;exitX=1;exitY=0.5;entryX=0.5;entryY=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="p2_comp" target="p2_status">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="e_p2_5" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;display&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#a78bfa;strokeWidth=1;exitX=0.5;exitY=0;entryX=1;entryY=0.5;endArrow=classic;endFill=1;dashed=1;dashPattern=8 4;" edge="1" parent="1" source="p2_status" target="p2_cli">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>

    <!-- Legend -->
    <mxCell id="leg_title" value="&lt;b style=&quot;font-size:11px;&quot;&gt;Legend&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontColor=#94a3b8;" vertex="1" parent="1">
      <mxGeometry x="40" y="450" width="50" height="20" as="geometry"/>
    </mxCell>
    <mxCell id="leg1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#38bdf8;strokeWidth=2;" vertex="1" parent="1">
      <mxGeometry x="40" y="475" width="20" height="14" as="geometry"/>
    </mxCell>
    <mxCell id="leg1_t" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Phase 1 component&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;" vertex="1" parent="1">
      <mxGeometry x="68" y="472" width="120" height="20" as="geometry"/>
    </mxCell>
    <mxCell id="leg2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#a78bfa;strokeWidth=2;" vertex="1" parent="1">
      <mxGeometry x="200" y="475" width="20" height="14" as="geometry"/>
    </mxCell>
    <mxCell id="leg2_t" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Phase 2 component&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;" vertex="1" parent="1">
      <mxGeometry x="228" y="472" width="120" height="20" as="geometry"/>
    </mxCell>
    <mxCell id="leg3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#4ade80;strokeWidth=2;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
      <mxGeometry x="360" y="475" width="20" height="14" as="geometry"/>
    </mxCell>
    <mxCell id="leg3_t" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;Shared core (reused)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;" vertex="1" parent="1">
      <mxGeometry x="388" y="472" width="130" height="20" as="geometry"/>
    </mxCell>
    <mxCell id="leg4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#fbbf24;strokeWidth=2;" vertex="1" parent="1">
      <mxGeometry x="530" y="475" width="20" height="14" as="geometry"/>
    </mxCell>
    <mxCell id="leg4_t" value="&lt;font style=&quot;font-size:10px;color:#94a3b8&quot;&gt;onboard_main component&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;" vertex="1" parent="1">
      <mxGeometry x="558" y="472" width="150" height="20" as="geometry"/>
    </mxCell>
  </root>
</mxGraphModel>